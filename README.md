## Разворачивание окружения для разработки

1. Установить зависимости:  
 - Docker v18.09+
 - Docker-compose v1.23+
 - Git  
 - Make  

2. Клонировать репозиторий:  
```
$ git clone git@github.com:ivankomolin/vi.git ./
```

3. Указать свободный порт* в системе на который будут повешены сервисы проекта:  
```
Переменная FREE_PORT в файле docker/.env
```

`*Не обязательно, если свободен 9876 порт, он используется по умолчанию`

4. Собрать образы и запустить сервисы:  
```
$ make build
$ make up
```

### Результат  

После успешного запуска* будут доступны следующие сервисы:  
 - http://127.0.123.1:9876 - Разрабатываемый сервис  
 - http://127.0.123.2:9876 - GUI mysql  
 - http://127.0.123.3:9876 - Документация API  

`*При первом запуске контейнеров, необходимо подождать некоторое время(создание бд, composer install, создание схемы бд), лог происходящего можно увидеть, посмотрев лог необходимого контейнера`

### Херперы для работы  

Просмотр логов контейнера:  
make log-{service}, например:  
```
$ make log-mysql
```

Вход в контейнер:  
make bash-{service}, например:  
```
$ make bash-php
```

Удаление удаление контейнеров, образов, вольюмов и сети проекта:  
```
$ make down
```

Остальные команды можно посмотреть здесь: [docker/development/Makefile](./docker/development/Makefile)
